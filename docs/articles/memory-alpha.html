<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Alpha • rtrek</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Memory Alpha">
<meta property="og:description" content="rtrek">
<meta property="og:image" content="https://leonawicz.github.io/rtrek/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rtrek</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="../articles/rtrek.html">Get Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/stapi.html">Star Trek API (STAPI)</a>
    </li>
    <li>
      <a href="../articles/memory-alpha.html">Memory Alpha</a>
    </li>
    <li>
      <a href="../articles/memory-beta.html">Memory Beta</a>
    </li>
    <li>
      <a href="../articles/fonts.html">Star Trek fonts</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Examples</li>
    <li>
      <a href="../articles/ex-word-count.html">Novels: word count</a>
    </li>
    <li>
      <a href="../articles/ex-episode-analysis.html">Episodes: spoken lines</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/sc.html">Stellar Cartography</a>
</li>
<li>
  <a href="../articles/rr.html">R &amp; R... &amp; R</a>
</li>
<li>
  <a href="https://github.com/leonawicz/rtrek">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="memory-alpha_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Memory Alpha</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/rtrek/blob/master/vignettes/memory-alpha.Rmd"><code>vignettes/memory-alpha.Rmd</code></a></small>
      <div class="hidden name"><code>memory-alpha.Rmd</code></div>

    </div>

    
    
<p>The <code>rtrek</code> package includes some Star Trek datasets, but much more data is available outside the package. You can access other Star Trek data through various APIs.</p>
<p>Technically, there is only one formal API: the Star Trek API (STAPI). <code>rtrek</code> has functions to assist with making calls to this API in order to access specific data. See the STAPI <a href="https://leonawicz.github.io/rtrek/articles/stapi.html">vignette</a> for details.</p>
<p>The focus of this vignette is on accessing data from Memory Alpha. <code>rtrek</code> interfaces with and extracts information from the <a href="https://memory-alpha.fandom.com/wiki/Portal:Main">Memory Alpha</a> and <a href="https://memory-beta.fandom.com/wiki/Main_Page">Memory Beta</a> websites. Neither of these sites actually expose an API, but functions in <code>rtrek</code> with querying these websites in an API-like manner. For working with Memory Beta content, see the respective <a href="https://leonawicz.github.io/rtrek/articles/memory-beta.html">vignette</a>.</p>
<div id="the-rtrek-memory-alpha-api" class="section level2">
<h2 class="hasAnchor">
<a href="#the-rtrek-memory-alpha-api" class="anchor"></a>The rtrek Memory Alpha API</h2>
<p>Memory Alpha is a website that hosts information on all things relating to official canon Star Trek. This strictly pertains to the television series and movies. There are many other officially licensed Star Trek productions, e.g., the many hundreds of novels, but these are not technically canon even though they are often treated as much by many fans. For a broader, licensed works focus, see Memory Beta.</p>
<p>When talking about using <code>rtrek</code> to access data from Memory Alpha, the term data is used loosely. It would be just as accurate to say information, content or text. While the site contains a vast amount of information, it is not structured in tidy tables like a data scientist would love to conveniently encounter. Memory Alpha is a wiki and can be thought of as similar to an encyclopedia. The bulk of its pages consist of articles. While some of these may have interesting html tables contained within, the site largely offers textual data.</p>
<p>Since Memory Alpha does not offer an API, the API-like interfacing provided by <code>rtrek</code> is just a collection of wrappers around web page scraping. In terms of what the relevant functions bring back from Memory Alpha, there are real limitations on the level of generality and quality of formatting that can be achieved across such a massive and diverse collection of articles.</p>
</div>
<div id="memory-alpha-portals" class="section level2">
<h2 class="hasAnchor">
<a href="#memory-alpha-portals" class="anchor"></a>Memory Alpha portals</h2>
<p>There are six Memory Alpha web portals available. To see them, call the main function for Memory Alpha access, <code>memory_alpha</code>, and pass it <code>portals</code> as the API endpoint.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/memory_alpha.html">memory_alpha</a></span><span class="op">(</span><span class="st">"portals"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;   id         url                       </span>
<span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;                     </span>
<span class="co">#&gt; 1 alternate  Portal:Alternate_Reality  </span>
<span class="co">#&gt; 2 people     Portal:People             </span>
<span class="co">#&gt; 3 science    Portal:Science            </span>
<span class="co">#&gt; 4 series     Portal:TV_and_films       </span>
<span class="co">#&gt; 5 society    Portal:Society_and_Culture</span>
<span class="co">#&gt; 6 technology Portal:Technology</span></code></pre></div>
<p>The data frame returned provides each portal ID and respective “short URL”. These relative URLs are given in order to reduce verbosity and redundancy. All absolute URLs begin with <code>https://memory-alpha.fandom.com/wiki/</code>.</p>
<p>In this special case where <code>endpoint = "portals"</code>, this table is returned from the package itself because it is already known. The available portals are fixed. There is no accessing of Memory Alpha yet. The URLs shown are also not needed by the user, but are provided alongside the IDs for context.</p>
</div>
<div id="using-a-portal" class="section level2">
<h2 class="hasAnchor">
<a href="#using-a-portal" class="anchor"></a>Using a portal</h2>
<p>When using a specific portal at the highest level (portal ID only), the returned data frame contains information about searchable categories available in the portal.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/memory_alpha.html">memory_alpha</a></span><span class="op">(</span><span class="st">"people"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 103 x 3</span>
<span class="co">#&gt;    id          url                  group     </span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;                &lt;chr&gt;     </span>
<span class="co">#&gt;  1 Acamarians  Category:Acamarians  By species</span>
<span class="co">#&gt;  2 Akritirians Category:Akritirians By species</span>
<span class="co">#&gt;  3 Aldeans     Category:Aldeans     By species</span>
<span class="co">#&gt;  4 Andorians   Category:Andorians   By species</span>
<span class="co">#&gt;  5 Androids    Category:Androids    By species</span>
<span class="co">#&gt;  6 Aquans      Category:Aquans      By species</span>
<span class="co">#&gt;  7 Ardanans    Category:Ardanans    By species</span>
<span class="co">#&gt;  8 Augments    Category:Augments    By species</span>
<span class="co">#&gt;  9 Ba'ku       Category:Ba%27ku     By species</span>
<span class="co">#&gt; 10 Bajorans    Category:Bajorans    By species</span>
<span class="co">#&gt; # ... with 93 more rows</span></code></pre></div>
<p>Again, there are <code>id</code> and <code>url</code> columns. There is also a <code>group</code> (and potentially a <code>subgroup</code>) column. This is only to provide meaningful context for the values in the <code>id</code> column if relevant for a given portal; <code>group</code> is not used for anything and the user can ignore it.</p>
<p>The above call does involve reaching out to Memory Alpha. While the portals are stable, it is expected that content within is regularly updated. Remember that this is not a real API. Since one is not available, what is really going on behind the scenes is the use of <code>xml2</code> and <code>rvest</code> for web page harvesting.</p>
<p>Some portals have terminal endpoints - in Memory Alpha these are the written articles - at the top level, but typically the top level results for a portal are categories. You can always differentiate categories from articles by the URL, which will begin with <code>Category:</code> in the former case.</p>
<p>Descending through subcategories is done by appending their <code>id</code> values, separated by a forward slash <code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/memory_alpha.html">memory_alpha</a></span><span class="op">(</span><span class="st">"people/Klingons"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 222 x 2</span>
<span class="co">#&gt;    Klingons                       url                                    </span>
<span class="co">#&gt;    &lt;chr&gt;                          &lt;chr&gt;                                  </span>
<span class="co">#&gt;  1 Memory Alpha images (Klingons) Category:Memory_Alpha_images_(Klingons)</span>
<span class="co">#&gt;  2 Amar (Klingon)                 Amar_(Klingon)                         </span>
<span class="co">#&gt;  3 Antaak                         Antaak                                 </span>
<span class="co">#&gt;  4 A'trom                         A%27trom                               </span>
<span class="co">#&gt;  5 Atul                           Atul                                   </span>
<span class="co">#&gt;  6 Augments                       Category:Augments                      </span>
<span class="co">#&gt;  7 Azetbur                        Azetbur                                </span>
<span class="co">#&gt;  8 Ba'el                          Ba%27el                                </span>
<span class="co">#&gt;  9 Ba'ktor                        Ba%27ktor                              </span>
<span class="co">#&gt; 10 Barak-Kadan                    Barak-Kadan                            </span>
<span class="co">#&gt; # ... with 212 more rows</span>

<span class="fu"><a href="../reference/memory_alpha.html">memory_alpha</a></span><span class="op">(</span><span class="st">"people/Klingons/Worf"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   title content    metadata               categories           </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;list&gt;     &lt;list&gt;                 &lt;list&gt;               </span>
<span class="co">#&gt; 1 Worf  &lt;xml_ndst&gt; &lt;tibble[,16] [1 x 16]&gt; &lt;tibble[,2] [12 x 2]&gt;</span></code></pre></div>
<p>Note the change in the structure of the final output, which is an article. This is the end of this particular road The result is still a data frame, but now has only one row, the article.</p>
<p>The columns include a text <code>title</code> and three nested datasets. <code>content</code> contains an <code>xml_nodeset</code> object left (mostly) unadulterated by <code>memory_alpha</code>. This contains the article’s main content section, including ordered content from a default set of html tags. For more control over article content, see <code>ma_article</code> in the next section. <code>metadata</code> contains a nested data frame of content parsed from the summary card that appears in the top right corner of articles. If this fails to parse for a given article, <code>NULL</code> is returned. <code>categories</code> returns a data frame containing categories in which the article topic falls under and their respective URLs.</p>
</div>
<div id="articles" class="section level2">
<h2 class="hasAnchor">
<a href="#articles" class="anchor"></a>Articles</h2>
<p>If you already know the article <code>id</code>, You can obtain an article directly using <code>ma_article</code> instead of going through an endpoint with <code>memory_alpha</code> that terminates in the same <code>id</code>. This also offers additional options to control what tags are included in the returned result and whether that result is the original <code>xml_nodeset</code> object or a character vector of only the extracted text. In either case, work is left to the user to do what they intend such as text analysis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">worf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ma_article.html">ma_article</a></span><span class="op">(</span><span class="st">"Worf"</span>, content_format <span class="op">=</span> <span class="st">"character"</span>, content_nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"h2"</span>, <span class="st">"h3"</span><span class="op">)</span><span class="op">)</span>
<span class="va">worf</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   title content    metadata               categories           </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;list&gt;     &lt;list&gt;                 &lt;list&gt;               </span>
<span class="co">#&gt; 1 Worf  &lt;chr [40]&gt; &lt;tibble[,16] [1 x 16]&gt; &lt;tibble[,2] [12 x 2]&gt;</span>
<span class="va">worf</span><span class="op">$</span><span class="va">content</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># Worf article section headings</span>
<span class="co">#&gt;  [1] "Early life"                          "The Rozhenkos"                      </span>
<span class="co">#&gt;  [3] "Coming of age"                       "Service aboard the USS Enterprise-D"</span>
<span class="co">#&gt;  [5] "Borg encounters"                     "Q encounters"                       </span>
<span class="co">#&gt;  [7] "Klingon affairs"                     "Other notable missions"             </span>
<span class="co">#&gt;  [9] "Service on Deep Space 9"             "USS Defiant missions"               </span>
<span class="co">#&gt; [11] "The Dominion War"                    "Service aboard the USS Enterprise-E"</span>
<span class="co">#&gt; [13] "Later life"                          "Personality"                        </span>
<span class="co">#&gt; [15] "Physicality"                         "As a warrior"                       </span>
<span class="co">#&gt; [17] "Ailments and injuries"               "Family"                             </span>
<span class="co">#&gt; [19] "K'Ehleyr"                            "Alexander"                          </span>
<span class="co">#&gt; [21] "Jeremy Aster"                        "Jadzia Dax"                         </span>
<span class="co">#&gt; [23] "Kurn"                                "Nikolai Rozhenko"                   </span>
<span class="co">#&gt; [25] "Martok"                              "Friendships"                        </span>
<span class="co">#&gt; [27] "The crew of the Enterprise"          "Deep Space 9 companions"            </span>
<span class="co">#&gt; [29] "Kor"                                 "Alternate realities and timelines"  </span>
<span class="co">#&gt; [31] "Holograms"                           "Memorable quotes"                   </span>
<span class="co">#&gt; [33] "Chronology"                          "Appendices"                         </span>
<span class="co">#&gt; [35] "Appearances"                         "References"                         </span>
<span class="co">#&gt; [37] "Background information"              "Apocrypha"                          </span>
<span class="co">#&gt; [39] "See also"                            "External links"</span></code></pre></div>
<p>If <code>browse = TRUE</code> the article page also launches in the browser.</p>
</div>
<div id="images" class="section level2">
<h2 class="hasAnchor">
<a href="#images" class="anchor"></a>Images</h2>
<p>Full resolution source images can be downloaded and imported into R using <code>ma_image</code> if you know the short URL. The easiest way to find URLs is by using a Memory Alpha portal. In the example below, the Memory Alpha images category under Klingons is selected. Look for a picture that includes Worf but also Data.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="va">klingons</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/memory_alpha.html">memory_alpha</a></span><span class="op">(</span><span class="st">"people/Klingons/Memory Alpha images (Klingons)"</span><span class="op">)</span>
<span class="va">klingons</span>
<span class="co">#&gt; # A tibble: 1,298 x 2</span>
<span class="co">#&gt;    `Memory Alpha images (Klingons)`     url                                     </span>
<span class="co">#&gt;    &lt;chr&gt;                                &lt;chr&gt;                                   </span>
<span class="co">#&gt;  1 Memory Alpha images (Klingon hologr~ Category:Memory_Alpha_images_(Klingon_h~</span>
<span class="co">#&gt;  2 A good day to die, 2366.jpg          File:A_good_day_to_die,_2366.jpg        </span>
<span class="co">#&gt;  3 Age of ascension pain sticks.jpg     File:Age_of_ascension_pain_sticks.jpg   </span>
<span class="co">#&gt;  4 Ajilon Prime Klingon 1.jpg           File:Ajilon_Prime_Klingon_1.jpg         </span>
<span class="co">#&gt;  5 Ajilon Prime Klingon 2.jpg           File:Ajilon_Prime_Klingon_2.jpg         </span>
<span class="co">#&gt;  6 Ajilon Prime Klingons.jpg            File:Ajilon_Prime_Klingons.jpg          </span>
<span class="co">#&gt;  7 Alexander and K'mtar.jpg             File:Alexander_and_K%27mtar.jpg         </span>
<span class="co">#&gt;  8 Alexander at the kot'baval festival~ File:Alexander_at_the_kot%27baval_festi~</span>
<span class="co">#&gt;  9 Alexander Rozhenko, 2367.jpg         File:Alexander_Rozhenko,_2367.jpg       </span>
<span class="co">#&gt; 10 Alexander Rozhenko, 2370.jpg         File:Alexander_Rozhenko,_2370.jpg       </span>
<span class="co">#&gt; # ... with 1,288 more rows</span>

<span class="va">worf_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">klingons</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"Worf"</span>, <span class="va">url</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"Data"</span>, <span class="va">url</span><span class="op">)</span><span class="op">)</span>
<span class="va">worf_data</span>
<span class="co">#&gt; # A tibble: 9 x 2</span>
<span class="co">#&gt;   `Memory Alpha images (Klingons)`         url                                  </span>
<span class="co">#&gt;   &lt;chr&gt;                                    &lt;chr&gt;                                </span>
<span class="co">#&gt; 1 Data and Worf, 2369.jpg                  File:Data_and_Worf,_2369.jpg         </span>
<span class="co">#&gt; 2 Data tries talking to Worf.jpg           File:Data_tries_talking_to_Worf.jpg  </span>
<span class="co">#&gt; 3 Data, Picard and Worf, 2375.jpg          File:Data,_Picard_and_Worf,_2375.jpg </span>
<span class="co">#&gt; 4 Data, Worf, and Beverly Crusher find We~ File:Data,_Worf,_and_Beverly_Crusher~</span>
<span class="co">#&gt; 5 La Forge, Data, Riker, Worf, and Picard~ File:La_Forge,_Data,_Riker,_Worf,_an~</span>
<span class="co">#&gt; 6 Picard Data and Worf on Iconia.jpg       File:Picard_Data_and_Worf_on_Iconia.~</span>
<span class="co">#&gt; 7 Thomas Riker and William Riker play pok~ File:Thomas_Riker_and_William_Riker_~</span>
<span class="co">#&gt; 8 Wesley Crusher, Worf, and Data, quantum~ File:Wesley_Crusher,_Worf,_and_Data,~</span>
<span class="co">#&gt; 9 Worf carries Data through portal.jpg     File:Worf_carries_Data_through_porta~</span></code></pre></div>
<p><em>Qapla’</em>! This provides several results.</p>
<p>Technically, this is not the url to an image file. It is a url that redirects you to some other seemingly random article on the website that happens to include the image in it. This is not necessarily a unique instance of the image, nor is there any consistency in what portal or type of article it takes you to. <code>memory_alpha</code>, and <code>ma_article</code> using the short form url, provide the article content associated with the “file” url. See <code>ma_image</code> below for viewing the actual image.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/memory_alpha.html">memory_alpha</a></span><span class="op">(</span><span class="st">"people/Klingons/Memory Alpha images (Klingons)/Data tries talking to Worf.jpg"</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   title                       content    metadata categories          </span>
<span class="co">#&gt;   &lt;chr&gt;                       &lt;list&gt;     &lt;list&gt;   &lt;list&gt;              </span>
<span class="co">#&gt; 1 The Icarus Factor (episode) &lt;xml_ndst&gt; &lt;NULL&gt;   &lt;tibble[,2] [1 x 2]&gt;</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ma_article.html">ma_article</a></span><span class="op">(</span><span class="st">"File:Data_tries_talking_to_Worf.jpg"</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   title                       content    metadata categories          </span>
<span class="co">#&gt;   &lt;chr&gt;                       &lt;list&gt;     &lt;list&gt;   &lt;list&gt;              </span>
<span class="co">#&gt; 1 The Icarus Factor (episode) &lt;xml_ndst&gt; &lt;NULL&gt;   &lt;tibble[,2] [1 x 2]&gt;</span>

<span class="va">x</span><span class="op">$</span><span class="va">categories</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   categories   url                  </span>
<span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                </span>
<span class="co">#&gt; 1 TNG episodes Category:TNG_episodes</span></code></pre></div>
<p>The likely intent is to obtain an image file after browsing the web pages that list images files. Even if you are interactively browsing the website, you have to click several times and scroll through additional articles before you can actually view the image file that was initially presented to you as a clickable link. This is a frustrating user experience and confusing design. If you have a file name you want to view, just use <code>ma_image</code> for this. It returns a ggplot object of the image file rather than an associated article.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ma_image.html">ma_image</a></span><span class="op">(</span><span class="st">"File:Data_tries_talking_to_Worf.jpg"</span><span class="op">)</span></code></pre></div>
<p><img src="memory-alpha_files/figure-html/ma_image3-1.png" width="700"></p>
<p><code>ma_image</code> can take the additional arguments, <code>keep = TRUE</code> to retain the downloaded image file, and <code>file</code> to specify the output filename if you do not want it to be derived from the short URL. If you need more control over the plot, set <code>keep = TRUE</code> and then load the image file into R directly to plot separately as needed.</p>
</div>
<div id="search" class="section level2">
<h2 class="hasAnchor">
<a href="#search" class="anchor"></a>Search</h2>
<p>You can perform a Memory Alpha site search using <code>ma_search</code>. This returns a data frame of search results content, including title, truncated text preview, and short URL for the first page of search results.</p>
<p>It does not recursively collate search results through subsequent pages of results. There could be an unexpectedly high number of pages of results depending on the search query. Since the general nature of this search feature seems relatively casual anyway, it aims only to provide a first page preview. As with <code>ma_article</code>, setting <code>browse = TRUE</code> opens the page in the browser.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ma_search.html">ma_search</a></span><span class="op">(</span><span class="st">"Guinan"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 25 x 3</span>
<span class="co">#&gt;    title            text                            url                         </span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                           &lt;chr&gt;                       </span>
<span class="co">#&gt;  1 Guinan           "For the actor, please see Fra~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  2 Francis Guinan   "Real World article(written fr~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  3 Unnamed individ~ "List of unnamed individuals o~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  4 Unnamed El-Auri~ "The following is a list of un~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  5 Q                "For additional meanings of \"~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  6 Data             "Multiple realities(covers inf~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  7 Borg             "Multiple realities(covers inf~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  8 Jean-Luc Picard  "Multiple realities(covers inf~ https://memory-alpha.fandom~</span>
<span class="co">#&gt;  9 Worf             "Multiple realities(covers inf~ https://memory-alpha.fandom~</span>
<span class="co">#&gt; 10 William T. Riker "Multiple realities(covers inf~ https://memory-alpha.fandom~</span>
<span class="co">#&gt; # ... with 15 more rows</span></code></pre></div>
</div>
<div id="caveats" class="section level2">
<h2 class="hasAnchor">
<a href="#caveats" class="anchor"></a>Caveats</h2>
<p>Memory Alpha contains almost 50,000 pages at the time of this <code>rtrek</code> version. It is possible that some articles may have idiosyncratic structure that could make them inaccessible by these <code>rtrek</code> functions.</p>
<p>Since this package version is also the first to offer this brand new functionality - and as mentioned, Memory Alpha does not offer an API, leading to a less reliable web-scraping approach, it is unknown what the likelihood is at this time of breaking changes occurring during updates to Memory Alpha by its maintainers.</p>
<p><em>Jolan Tru</em>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/leonawicz">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
